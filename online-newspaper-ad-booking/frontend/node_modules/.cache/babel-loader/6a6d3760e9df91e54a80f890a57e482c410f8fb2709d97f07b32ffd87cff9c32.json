{"ast":null,"code":"var _jsxFileName = \"D:\\\\gopika\\\\online-newspaper-ad-booking\\\\frontend\\\\src\\\\pages\\\\AdBooking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdBooking = () => {\n  _s();\n  const [newspapers, setNewspapers] = useState([]);\n  const [selectedNewspaper, setSelectedNewspaper] = useState(null);\n  const [adSpaces, setAdSpaces] = useState([]);\n  const [selectedAdSpace, setSelectedAdSpace] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  // Fetch newspapers on load\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/api/adBooking/newspapers\").then(response => setNewspapers(response.data)).catch(error => console.error(\"Error fetching newspapers:\", error));\n  }, []);\n\n  // Fetch ad spaces when a newspaper is selected\n  useEffect(() => {\n    if (selectedNewspaper) {\n      axios.get(`http://localhost:5000/api/adBooking/ad-spaces/${selectedNewspaper.id}`).then(response => setAdSpaces(response.data)).catch(error => console.error(\"Error fetching ad spaces:\", error));\n    }\n  }, [selectedNewspaper]);\n\n  // Handle ad booking\n  const handleBookAd = () => {\n    if (!selectedNewspaper || !selectedAdSpace || !content || !price) {\n      setMessage(\"Please fill all fields before booking.\");\n      return;\n    }\n    axios.post(\"http://localhost:5000/api/adBooking/book\", {\n      newspaperId: selectedNewspaper.id,\n      adSpaceId: selectedAdSpace.id,\n      content,\n      price\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(() => {\n      setMessage(\"Ad booked successfully!\");\n      setContent(\"\");\n      setPrice(\"\");\n      setSelectedAdSpace(null);\n      // Refresh available ad spaces after booking\n      axios.get(`http://localhost:5000/api/adBooking/ad-spaces/${selectedNewspaper.id}`).then(response => setAdSpaces(response.data));\n    }).catch(error => {\n      console.error(\"Error booking ad:\", error);\n      setMessage(\"Error booking ad.\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Book an Ad\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Select Newspaper:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => {\n        const newspaper = newspapers.find(n => n.id === parseInt(e.target.value));\n        setSelectedNewspaper(newspaper);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"-- Select a Newspaper --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), newspapers.map(newspaper => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: newspaper.id,\n        children: newspaper.name\n      }, newspaper.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), selectedNewspaper && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Available Ad Spaces for \", selectedNewspaper.name, \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), adSpaces.length > 0 ? adSpaces.map(space => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"adSpace\",\n          value: space.id,\n          onChange: () => setSelectedAdSpace(space)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), space.space_name, \" - $\", space.price]\n      }, space.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No ad spaces available for this newspaper.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true), selectedAdSpace && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ad Content:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: content,\n        onChange: e => setContent(e.target.value),\n        placeholder: \"Enter your ad content here...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: price,\n        onChange: e => setPrice(e.target.value),\n        placeholder: \"Enter price...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBookAd,\n        children: \"Book Ad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(AdBooking, \"WQT6aiIZXTzj8+mKtPBzw6f0rOo=\");\n_c = AdBooking;\nexport default AdBooking;\nvar _c;\n$RefreshReg$(_c, \"AdBooking\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","AdBooking","_s","newspapers","setNewspapers","selectedNewspaper","setSelectedNewspaper","adSpaces","setAdSpaces","selectedAdSpace","setSelectedAdSpace","content","setContent","price","setPrice","message","setMessage","get","then","response","data","catch","error","console","id","handleBookAd","post","newspaperId","adSpaceId","headers","Authorization","localStorage","getItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","newspaper","find","n","parseInt","target","value","map","name","length","space","type","space_name","placeholder","onClick","_c","$RefreshReg$"],"sources":["D:/gopika/online-newspaper-ad-booking/frontend/src/pages/AdBooking.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst AdBooking = () => {\r\n  const [newspapers, setNewspapers] = useState([]);\r\n  const [selectedNewspaper, setSelectedNewspaper] = useState(null);\r\n  const [adSpaces, setAdSpaces] = useState([]);\r\n  const [selectedAdSpace, setSelectedAdSpace] = useState(null);\r\n  const [content, setContent] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Fetch newspapers on load\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:5000/api/adBooking/newspapers\")\r\n      .then((response) => setNewspapers(response.data))\r\n      .catch((error) => console.error(\"Error fetching newspapers:\", error));\r\n  }, []);\r\n\r\n  // Fetch ad spaces when a newspaper is selected\r\n  useEffect(() => {\r\n    if (selectedNewspaper) {\r\n      axios.get(`http://localhost:5000/api/adBooking/ad-spaces/${selectedNewspaper.id}`)\r\n        .then((response) => setAdSpaces(response.data))\r\n        .catch((error) => console.error(\"Error fetching ad spaces:\", error));\r\n    }\r\n  }, [selectedNewspaper]);\r\n\r\n  // Handle ad booking\r\n  const handleBookAd = () => {\r\n    if (!selectedNewspaper || !selectedAdSpace || !content || !price) {\r\n      setMessage(\"Please fill all fields before booking.\");\r\n      return;\r\n    }\r\n\r\n    axios.post(\r\n      \"http://localhost:5000/api/adBooking/book\",\r\n      { newspaperId: selectedNewspaper.id, adSpaceId: selectedAdSpace.id, content, price },\r\n      { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n    )\r\n    .then(() => {\r\n      setMessage(\"Ad booked successfully!\");\r\n      setContent(\"\");\r\n      setPrice(\"\");\r\n      setSelectedAdSpace(null);\r\n      // Refresh available ad spaces after booking\r\n      axios.get(`http://localhost:5000/api/adBooking/ad-spaces/${selectedNewspaper.id}`)\r\n        .then((response) => setAdSpaces(response.data));\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error booking ad:\", error);\r\n      setMessage(\"Error booking ad.\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Book an Ad</h2>\r\n\r\n      {/* Newspaper Selection */}\r\n      <label>Select Newspaper:</label>\r\n      <select\r\n        onChange={(e) => {\r\n          const newspaper = newspapers.find((n) => n.id === parseInt(e.target.value));\r\n          setSelectedNewspaper(newspaper);\r\n        }}\r\n      >\r\n        <option value=\"\">-- Select a Newspaper --</option>\r\n        {newspapers.map((newspaper) => (\r\n          <option key={newspaper.id} value={newspaper.id}>{newspaper.name}</option>\r\n        ))}\r\n      </select>\r\n\r\n      {/* Display available ad spaces */}\r\n      {selectedNewspaper && (\r\n        <>\r\n          <h3>Available Ad Spaces for {selectedNewspaper.name}:</h3>\r\n          {adSpaces.length > 0 ? (\r\n            adSpaces.map((space) => (\r\n              <div key={space.id}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"adSpace\"\r\n                  value={space.id}\r\n                  onChange={() => setSelectedAdSpace(space)}\r\n                />\r\n                {space.space_name} - ${space.price}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>No ad spaces available for this newspaper.</p>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Ad Content Input */}\r\n      {selectedAdSpace && (\r\n        <>\r\n          <label>Ad Content:</label>\r\n          <textarea\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            placeholder=\"Enter your ad content here...\"\r\n          />\r\n          <label>Price:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={price}\r\n            onChange={(e) => setPrice(e.target.value)}\r\n            placeholder=\"Enter price...\"\r\n          />\r\n          <button onClick={handleBookAd}>Book Ad</button>\r\n        </>\r\n      )}\r\n\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdBooking;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}