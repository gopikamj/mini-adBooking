{"ast":null,"code":"var _jsxFileName = \"D:\\\\gopika\\\\online-newspaper-ad-booking\\\\frontend\\\\src\\\\pages\\\\AdBooking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdBooking = () => {\n  _s();\n  const [newspapers, setNewspapers] = useState([]);\n  const [selectedNewspaper, setSelectedNewspaper] = useState(null);\n  const [content, setContent] = useState(\"\");\n  const [price, setPrice] = useState(0);\n\n  // Fetch available newspapers on component mount\n  useEffect(() => {\n    fetch(\"http://localhost:5000/api/newspapers\").then(response => response.json()).then(data => setNewspapers(data)).catch(error => console.error(\"Error fetching newspapers:\", error));\n  }, []);\n\n  // Handle newspaper selection\n  const handleNewspaperSelect = event => {\n    const newspaper = newspapers.find(n => n.id === parseInt(event.target.value));\n    setSelectedNewspaper(newspaper);\n  };\n\n  // Handle content change & price adjustment\n  const handleContentChange = event => {\n    let newContent = event.target.value;\n    setContent(newContent);\n\n    // Adjust price based on content length\n    let calculatedPrice = selectedNewspaper ? newContent.length * selectedNewspaper.pricePerCharacter : 0;\n    setPrice(calculatedPrice.toFixed(2)); // Ensure price is a number\n  };\n\n  // Handle ad booking\n  const handleBookAd = () => {\n    if (!selectedNewspaper) {\n      alert(\"Please select a newspaper first.\");\n      return;\n    }\n    if (!content.trim()) {\n      alert(\"Ad content cannot be empty.\");\n      return;\n    }\n    const bookingData = {\n      newspaperId: selectedNewspaper.id,\n      content,\n      price\n    };\n    fetch(\"http://localhost:5000/api/book-ad\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(bookingData)\n    }).then(response => response.json()).then(data => alert(\"Ad booked successfully!\")).catch(error => console.error(\"Error booking ad:\", error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Book Your Ad\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), !selectedNewspaper && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Select a Newspaper:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleNewspaperSelect,\n        defaultValue: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"Select a newspaper\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), newspapers.map(newspaper => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: newspaper.id,\n          children: [newspaper.name, \" - \\u20B9\", newspaper.pricePerCharacter, \"/char\"]\n        }, newspaper.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), selectedNewspaper && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Enter Your Ad Content:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: content,\n        onChange: handleContentChange,\n        rows: \"4\",\n        cols: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Price: \\u20B9\", price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBookAd,\n        children: \"Book Ad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(AdBooking, \"SCSpZDSKCVZ79wwz3gpBUZeqVKQ=\");\n_c = AdBooking;\nexport default AdBooking;\nvar _c;\n$RefreshReg$(_c, \"AdBooking\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","AdBooking","_s","newspapers","setNewspapers","selectedNewspaper","setSelectedNewspaper","content","setContent","price","setPrice","fetch","then","response","json","data","catch","error","console","handleNewspaperSelect","event","newspaper","find","n","id","parseInt","target","value","handleContentChange","newContent","calculatedPrice","length","pricePerCharacter","toFixed","handleBookAd","alert","trim","bookingData","newspaperId","method","headers","body","JSON","stringify","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","defaultValue","disabled","map","name","rows","cols","onClick","_c","$RefreshReg$"],"sources":["D:/gopika/online-newspaper-ad-booking/frontend/src/pages/AdBooking.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst AdBooking = () => {\r\n  const [newspapers, setNewspapers] = useState([]);\r\n  const [selectedNewspaper, setSelectedNewspaper] = useState(null);\r\n  const [content, setContent] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n\r\n  // Fetch available newspapers on component mount\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:5000/api/newspapers\")\r\n      .then((response) => response.json())\r\n      .then((data) => setNewspapers(data))\r\n      .catch((error) => console.error(\"Error fetching newspapers:\", error));\r\n  }, []);\r\n\r\n  // Handle newspaper selection\r\n  const handleNewspaperSelect = (event) => {\r\n    const newspaper = newspapers.find(n => n.id === parseInt(event.target.value));\r\n    setSelectedNewspaper(newspaper);\r\n  };\r\n\r\n  // Handle content change & price adjustment\r\n  const handleContentChange = (event) => {\r\n    let newContent = event.target.value;\r\n    setContent(newContent);\r\n\r\n    // Adjust price based on content length\r\n    let calculatedPrice = selectedNewspaper ? newContent.length * selectedNewspaper.pricePerCharacter : 0;\r\n    setPrice(calculatedPrice.toFixed(2)); // Ensure price is a number\r\n  };\r\n\r\n  // Handle ad booking\r\n  const handleBookAd = () => {\r\n    if (!selectedNewspaper) {\r\n      alert(\"Please select a newspaper first.\");\r\n      return;\r\n    }\r\n    if (!content.trim()) {\r\n      alert(\"Ad content cannot be empty.\");\r\n      return;\r\n    }\r\n\r\n    const bookingData = {\r\n      newspaperId: selectedNewspaper.id,\r\n      content,\r\n      price\r\n    };\r\n\r\n    fetch(\"http://localhost:5000/api/book-ad\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(bookingData)\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => alert(\"Ad booked successfully!\"))\r\n      .catch((error) => console.error(\"Error booking ad:\", error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Book Your Ad</h2>\r\n\r\n      {/* Step 1: Select Newspaper */}\r\n      {!selectedNewspaper && (\r\n        <div>\r\n          <h3>Select a Newspaper:</h3>\r\n          <select onChange={handleNewspaperSelect} defaultValue=\"\">\r\n            <option value=\"\" disabled>Select a newspaper</option>\r\n            {newspapers.map((newspaper) => (\r\n              <option key={newspaper.id} value={newspaper.id}>\r\n                {newspaper.name} - ₹{newspaper.pricePerCharacter}/char\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      )}\r\n\r\n      {/* Step 2: Input Ad Content (Only Show After Newspaper Selection) */}\r\n      {selectedNewspaper && (\r\n        <div>\r\n          <h3>Enter Your Ad Content:</h3>\r\n          <textarea value={content} onChange={handleContentChange} rows=\"4\" cols=\"50\" />\r\n\r\n          <p>Price: ₹{price}</p>\r\n\r\n          <button onClick={handleBookAd}>Book Ad</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdBooking;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}